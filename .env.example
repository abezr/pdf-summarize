# =============================================================================
# PDF SUMMARY AI - Environment Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
NODE_ENV=development
PORT=3000
HOST=0.0.0.0

# -----------------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# -----------------------------------------------------------------------------
DB_HOST=localhost
DB_PORT=5432
DB_NAME=pdf_summary_db
DB_USER=postgres
DB_PASSWORD=your_secure_password
DB_POOL_MIN=2
DB_POOL_MAX=10

# -----------------------------------------------------------------------------
# Redis Configuration (Caching)
# -----------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_TTL=3600

# -----------------------------------------------------------------------------
# LLM Provider Configuration
# -----------------------------------------------------------------------------
# Options: 'auto' (default), 'openai', 'google'
# - 'auto': Automatically select first available provider (OpenAI > Google)
# - 'openai': Force OpenAI (requires OPENAI_API_KEY)
# - 'google': Force Google (requires GOOGLE_API_KEY)
LLM_PROVIDER=auto

# Enable fallback to other providers if primary fails
LLM_ENABLE_FALLBACK=true

# -----------------------------------------------------------------------------
# OpenAI Configuration
# -----------------------------------------------------------------------------
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-4o
OPENAI_MAX_TOKENS=4096
OPENAI_TEMPERATURE=0.3

# -----------------------------------------------------------------------------
# Google AI (Gemini) Configuration
# -----------------------------------------------------------------------------
# Get your API key from: https://makersuite.google.com/app/apikey
GOOGLE_API_KEY=your-google-api-key-here
GOOGLE_MODEL=gemini-1.5-pro
GOOGLE_MAX_TOKENS=4096
GOOGLE_TEMPERATURE=0.3

# Cost Comparison (per 1K tokens):
# - GPT-4o:             $0.005 input  / $0.015 output
# - GPT-3.5-turbo:      $0.0005 input / $0.0015 output
# - Gemini 1.5 Pro:     $0.00125 input / $0.005 output  (3.3x cheaper than GPT-4o)
# - Gemini 1.5 Flash:   $0.000075 input / $0.0003 output (55x cheaper than GPT-4o!)

# -----------------------------------------------------------------------------
# File Upload Configuration
# -----------------------------------------------------------------------------
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=52428800
ALLOWED_MIME_TYPES=application/pdf

# -----------------------------------------------------------------------------
# OCR Configuration
# -----------------------------------------------------------------------------
# Enable OCR for scanned PDFs (without text layer)
OCR_ENABLED=true

# OCR Provider: 'tesseract' (free, local) or 'vision' (GPT-4o/Gemini Vision, paid)
OCR_PROVIDER=tesseract

# Tesseract Configuration
TESSERACT_LANGUAGE=eng+spa+fra+deu
TESSERACT_MIN_CONFIDENCE=60

# Vision API for OCR (critical cases only - images/tables)
# Uses LLM_PROVIDER setting (OpenAI GPT-4o Vision or Google Gemini 1.5 Pro Vision)
VISION_OCR_THRESHOLD=85

# -----------------------------------------------------------------------------
# Observability Configuration
# -----------------------------------------------------------------------------
# Metrics
METRICS_ENABLED=true
METRICS_PORT=9090

# Logging
LOG_LEVEL=info
LOG_FORMAT=json

# Prometheus
PROMETHEUS_ENABLED=true

# -----------------------------------------------------------------------------
# Security Configuration
# -----------------------------------------------------------------------------
JWT_SECRET=your-jwt-secret-key-here
JWT_EXPIRES_IN=7d
BCRYPT_ROUNDS=10

# CORS
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
ENABLE_MCP=true
ENABLE_GROUNDING=true
ENABLE_EVALUATION=true
ENABLE_CACHE=true

# -----------------------------------------------------------------------------
# Evaluation Configuration (RAGAS)
# -----------------------------------------------------------------------------
EVALUATION_ENABLED=true
EVALUATION_MIN_SCORE=0.7

# -----------------------------------------------------------------------------
# Development/Debug
# -----------------------------------------------------------------------------
DEBUG=false
VERBOSE_LOGGING=false
